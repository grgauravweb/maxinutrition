webpackJsonp([13],{257:(function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.closeSearchFlyout=closeSearchFlyout;exports.init=init;var _={defaults:{componentSelector:'.search-main',selectors:{searchBtn:'.search-main__toggle',searchForm:'.search-main__form',searchInput:'search-main__input'},classes:{open:'is-search-open'}}};var o=_.defaults;function toggleSearchFlyout(){if(document.body.classList.contains(o.classes.open)){document.body.classList.remove(o.classes.open);}else{setTimeout(function(){document.getElementById(o.selectors.searchInput).focus();},100);document.body.classList.add(o.classes.open);}}
function closeSearchFlyout(){if(document.body.classList.contains(o.classes.open)){document.body.classList.remove(o.classes.open);}}
function init(){if(document.querySelector(o.componentSelector)){var component=document.querySelector(o.componentSelector);component.querySelector(o.selectors.searchBtn).addEventListener('click',function(){toggleSearchFlyout();});component.querySelector("#".concat(o.selectors.searchInput)).addEventListener('keyup',function(event){if(event.keyCode===13){toggleSearchFlyout();}});component.querySelector(o.selectors.searchForm).addEventListener('submit',function(event){event.preventDefault();if(event.target.dataset.url){window.location.href=event.target.dataset.url+"?query=".concat(component.querySelector("#".concat(o.selectors.searchInput)).value);}});$('html').on('click','.'+o.classes.open,function(event){if(!document.querySelector('.header').contains(event.target)){toggleSearchFlyout();}});}}}.call(exports,__webpack_require__(41)))}),266:(function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:true});exports.init=init;var _searchMain=__webpack_require__(257);var _={defaults:{componentSelector:'.nav-main',pluginOptions:{openOnClick:true,flyoutTimeout:150,selectors:{navList:'.nav-main__list',navListItems:'.nav-main__list > li > a',navListActiveItems:'.nav-main__list > li.is-active',navFlyoutLayer:'.nav-main__flyout-layer',navOverlay:'.nav-main__overlay',flyout:'.nav-main__flyout',closeBtn:'.nav-main__close-btn',overlayParent:'#page-wrapper',navOpen:'.is-nav-open'},classes:{navFlyoutLayer:'nav-main__flyout-layer',navOverlay:'nav-main__overlay',navOpen:'is-nav-open'},callbacks:{},errorMessages:{}}}};var o=_.defaults;var timer={};function addListeners(){var mainNavList=document.querySelectorAll(o.pluginOptions.selectors.navList);$(o.pluginOptions.selectors.navListItems).on('touchstart',function(event){var $this=$(this),flyout=$this.next(o.pluginOptions.selectors.flyout);if(!$this.parent().hasClass('is-active')&&flyout.length){event.preventDefault();closeFlyouts();openFlyout($this,flyout);}else{closeFlyouts();}});$(o.pluginOptions.selectors.navListItems).on('mouseenter',function(event){var $this=$(this),flyout=$this.next(o.pluginOptions.selectors.flyout);if(!$this.parent().hasClass('is-active')&&flyout.length){closeFlyouts();timer=setTimeout(function(){openFlyout($this,flyout);},o.pluginOptions.flyoutTimeout);}else{closeFlyouts();}});$(o.componentSelector).on('mouseleave',function(event){closeFlyouts();});$(o.pluginOptions.selectors.navOverlay).on('click',function(event){if(!mainNavList[0].contains(event.target)||event.target===mainNavList[0]){closeFlyouts();}});$(o.pluginOptions.selectors.closeBtn).on('click',function(){closeFlyouts();});Capitan.Vars.$window.smartresize(function(){var activeMainNavLinks=document.querySelectorAll(o.pluginOptions.selectors.navListActiveItems),flyout=$('> '+o.pluginOptions.selectors.flyout,activeMainNavLinks);resizeFlyoutLayer(flyout);});Capitan.Vars.$window.on('scroll',function(){closeFlyouts();});Capitan.Vars.$html.on('click','.is-nav-open',function(event){if(!mainNavList[0].contains(event.target)||event.target===mainNavList[0]){closeFlyouts();}});}
function openFlyout($item,flyout){(0,_searchMain.closeSearchFlyout)();Capitan.Vars.$body.addClass(o.pluginOptions.classes.navOpen);resizeFlyoutLayer(flyout);if($item){$item.parent().addClass('is-active');}}
function closeFlyouts(){clearTimeout(timer);if(Capitan.Vars.$body.hasClass(o.pluginOptions.classes.navOpen)){var activeMainNavLinks=document.querySelectorAll(o.pluginOptions.selectors.navListActiveItems);Capitan.Vars.$body.removeClass(o.pluginOptions.classes.navOpen);resizeFlyoutLayer(0);if(activeMainNavLinks.length){for(var i=0;i<activeMainNavLinks.length;i++){activeMainNavLinks[i].classList.remove('is-active');}}}}
function resizeFlyoutLayer(flyout){var o=_.defaults;var scaleFactor=0;var $flyoutLayer=$(o.pluginOptions.selectors.navFlyoutLayer);if(flyout.length){var flyoutHeight=flyout[0].clientHeight+parseInt(window.getComputedStyle(flyout[0]).marginTop)+parseInt(window.getComputedStyle(flyout[0]).marginBottom);scaleFactor=$flyoutLayer.height()>flyoutHeight?$flyoutLayer.height()/flyoutHeight:flyoutHeight/$flyoutLayer.height();}
$flyoutLayer.css('transform','scale3d(1 ,'+scaleFactor+', 1)');}
function appendElements(){var o=_.defaults;var $mainNav=$(o.componentSelector);var flyout=document.createElement('div');var overlay=document.createElement('div');flyout.classList.add(o.pluginOptions.classes.navFlyoutLayer);overlay.classList.add(o.pluginOptions.classes.navOverlay);$mainNav.append(flyout);$(o.pluginOptions.selectors.overlayParent).append(overlay);}
function preventGhostEvents($el){var lastInteractionTime,mouseEvents=["mousedown","mouseenter","mouseleave","mouseup","mousemove","click"],touchEvents=["touchstart","touchend"];function interpert(type,e){var now=Date.now();if(now-lastInteractionTime<=50){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();return false;}
lastInteractionTime=now;}
function attachEvents(elist,type){elist.forEach(function(eventName){$el.one(eventName,interpert.bind(null,type));});}
attachEvents(mouseEvents,0);}
function init(){if(document.querySelector(o.componentSelector)){appendElements();addListeners();}}}.call(exports,__webpack_require__(41)))})});