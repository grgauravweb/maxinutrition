define(['ko','uiComponent','Magento_Customer/js/customer-data','Magento_Catalog/js/price-utils'],function(ko,Component,customerData,priceUtils){'use strict';return Component.extend({displaySubtotal:ko.observable(true),initialize:function(){this._super();this.cart=customerData.get('cart');this.cartData=customerData.get('cart-data');},getShippingAmount:function(freeShipping){if(freeShipping){return 0;}
if(this.cart()&&this.cart().freeShippingReached){return 0;}
if(this.cartData()&&this.cartData().totals){return this.cartData().totals.shipping_incl_tax;}},getDiscountAmount:function(){if(this.cart()&&this.cart().discount_amount){return this.cart().discount_amount;}
else if(this.cartData()&&this.cartData().totals){return this.cartData().totals.discount_amount;}},getBaseAmount:function(){if(this.cart()&&this.cart().subtotalAmount){return this.cart().subtotalAmount;}
else if(this.cartData()&&this.cartData().totals){return this.cartData().totals.grand_total;}},getTotalAmount:function(grand_total,freeShipping){let total=0;if(!freeShipping){if(this.cartData()&&this.cartData().totals){total=total+parseFloat(this.getShippingAmount(false));}}
if(grand_total){total=total+parseFloat(grand_total);}
else if(this.cart()&&this.cart().grand_total){total=total+parseFloat(this.cart().grand_total);}
else if(this.cartData()&&this.cartData().totals){total=total+parseFloat(this.cartData().totals.grand_total);}
return total;},getFormattedPrice:function(price){var priceFormat={decimalSymbol:',',groupLength:3,groupSymbol:".",integerRequired:false,pattern:"%s",precision:2,requiredPrecision:2};return priceUtils.formatPrice(price,priceFormat);}});});